    :javascript
      document.addEventListener('DOMContentLoaded', function() {
        const sidebar = document.getElementById('sidebar');
        const sidebarToggle = document.getElementById('sidebarToggle');
        const mainContent = document.querySelector('.main-content');
        const header = document.querySelector('.header');
        
        sidebarToggle.addEventListener('click', function() {
          sidebar.classList.toggle('collapsed');
          if (sidebar.classList.contains('collapsed')) {
            mainContent.style.marginLeft = '60px';
            header.style.left = '60px';
            sidebarToggle.innerHTML = '<i class="bi bi-list"></i>';
          } else {
            mainContent.style.marginLeft = '240px';
            header.style.left = '240px';
            sidebarToggle.innerHTML = '<i class="bi bi-list"></i>';
          }
        });
        
        // 资源类型切换
        const resourceType = document.getElementById('resourceType');
        const usernameField = document.getElementById('usernameField');
        const passwordField = document.getElementById('passwordField');
        const sshKeyField = document.getElementById('sshKeyField');
        const authTypeField = document.getElementById('authTypeField');
        
        function toggleResourceFields() {
          if (!resourceType) return;
          
          const type = resourceType.value;
          
          // 根据资源类型显示/隐藏字段
          if (type === 'SSH') {
            usernameField.style.display = 'block';
            passwordField.style.display = 'block';
            sshKeyField.style.display = 'block';
            authTypeField.style.display = 'block';
          } else if (type === 'Windows') {
            usernameField.style.display = 'block';
            passwordField.style.display = 'block';
            sshKeyField.style.display = 'none';
            authTypeField.style.display = 'none';
          } else {
            usernameField.style.display = 'none';
            passwordField.style.display = 'none';
            sshKeyField.style.display = 'none';
            authTypeField.style.display = 'none';
          }
        }
        
        if (resourceType) {
          resourceType.addEventListener('change', toggleResourceFields);
          toggleResourceFields(); // 初始化
        }
        
        // 认证方式切换
        const authTypePassword = document.getElementById('authTypePassword');
        const authTypeKey = document.getElementById('authTypeKey');
        
        function toggleAuthFields() {
          if (authTypePassword && authTypeKey) {
            if (authTypePassword.checked) {
              passwordField.style.display = 'block';
              sshKeyField.style.display = 'none';
            } else if (authTypeKey.checked) {
              passwordField.style.display = 'none';
              sshKeyField.style.display = 'block';
            }
          }
        }
        
        if (authTypePassword) {
          authTypePassword.addEventListener('change', toggleAuthFields);
        }
        
        if (authTypeKey) {
          authTypeKey.addEventListener('change', toggleAuthFields);
        }
        
        toggleAuthFields(); // 初始化
        
        // 表单提交处理
        const resourceForm = document.getElementById('resourceForm');
        if (resourceForm) {
          resourceForm.addEventListener('submit', function(e) {
            const type = resourceType ? resourceType.value : '';
            const username = document.querySelector('input[name="username"]') ? document.querySelector('input[name="username"]').value : '';
            const password = document.querySelector('input[name="password"]') ? document.querySelector('input[name="password"]').value : '';
            const sshKeyPath = document.querySelector('input[name="ssh_key_path"]') ? document.querySelector('input[name="ssh_key_path"]').value : '';
            
            if (type === 'SSH') {
              if (!username) {
                e.preventDefault();
                alert('SSH资源必须提供用户名');
                return;
              }
              
              const authType = document.querySelector('input[name="auth_type"]:checked') ? document.querySelector('input[name="auth_type"]:checked').value : 'password';
              if (authType === 'password' && !password) {
                e.preventDefault();
                alert('密码认证方式必须提供密码');
                return;
              }
              
              if (authType === 'key' && !sshKeyPath) {
                e.preventDefault();
                alert('密钥认证方式必须提供密钥路径');
                return;
              }
            } else if (type === 'Windows') {
              if (!username) {
                e.preventDefault();
                alert('Windows资源必须提供用户名');
                return;
              }
              
              if (!password) {
                e.preventDefault();
                alert('Windows资源必须提供密码');
                return;
              }
            }
          });
        }
      });